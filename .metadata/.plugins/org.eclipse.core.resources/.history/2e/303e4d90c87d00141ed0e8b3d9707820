/**
 * @author yuten_000
 *
 */
import java.util.*;
import java.io.*;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Map;
import java.util.Set;
import java.util.Iterator;

public class Final {

	/**
	 * @param args
	 */

	public static void main(String[] args) throws FileNotFoundException {

		Scanner console = new Scanner(System.in);

		Scanner input = new Scanner(new File("src/movies.txt"));
		Map<String, Movie> data = new HashMap<String, Movie>();
		while (input.hasNextLine()) {
			String[] line = input.nextLine().split("\\t");
			data.put(line[1], new Movie(line[1], Integer.parseInt(line[0]),
					Double.parseDouble(line[2]), line[3]));
		}
		// System.out.println(data);
		userPerferType(console, data);
		/**
		 * Set keys=data.keySet(); for (Iterator i=keys.iterator();
		 * i.hasNext();){ String key=(String)i.next(); Movie Value=(Movie)
		 * data.get(key); System.out.println(key+"="+Value);
		 **/

	}

	public static void userPerferType(Scanner console, Map<String, Movie> data) {
		Set<Movie> matches = new HashSet<Movie>();
		System.out.println("What type of movies do you perfer?");
		System.out.println("A. Drama");
		System.out.println("B. Action");
		System.out.println("C. Fantasy");
		System.out.println("D. Adventure");
		System.out.println("E. History ");
		String choice = console.nextLine();
		
		if (choice.equalsIgnoreCase("A")) {
			String type = "Drama";
			for (Movie m : data.values()) {
				if (m.type.contains(type)) {
					matches.add(m);
				}
			}

		} else if (choice.equalsIgnoreCase("B")) {
			String type = "Action";
			for (Movie m : data.values()) {
				if (m.type.contains(type)) {
					matches.add(m);
				}
			}

		} else if (choice.equalsIgnoreCase("C")) {
			String type = "Fantasy";
			for (Movie m : data.values()) {
				if (m.type.contains(type)) {
					matches.add(m);
				}
			}

		} else if (choice.equalsIgnoreCase("D")) {
			String type = "Adventure";
			for (Movie m : data.values()) {
				if (m.type.contains(type)) {
					matches.add(m);
				}
			}

		} else {
			String type = "History";
			for (Movie m : data.values()) {
				if (m.type.contains(type)) {
					matches.add(m);

				}
			}

		}
		UserPerferYears(console, matches);
		// System.out.println(matches);
	}

	public static void UserPerferYears(Scanner console, Set<Movie> matches) {
		List<Movie> matches2 = new ArrayList<Movie>();
		System.out.println("The time period of the movies you want:");
		int choice1 = console.nextInt();
		System.out.println("to");
		int choice2 = console.nextInt();

		for (Movie m : matches) {
			if (m.date == choice1) {
				matches2.add(m);

			}

		}

		while (choice1 < choice2) {
			choice1++;
			for (Movie m : matches) {
				if (m.date == choice1) {
					matches2.add(m);

				}

			}
		}


		System.out.println(matches2);
		shuffle(console,matches2);
	}
	public static void shuffle(Scanner console,List<Movie> matches2){
		System.out.println("Do you want to shuffle the movies list? Yes or No");
		
		String one=console.next();
		if (one.equalsIgnoreCase("Yes")){
			shuffle(console, matches2);
		}
		System.out.println(matches2);
	}

}
